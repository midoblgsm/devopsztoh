<p>Please go back to the shopping cart repository and let's checkout the rest branch.</p>
<pre class=" language-bash" style="text-rendering: optimizelegibility; font-family: Iosevka, monospace; font-size: 16px; margin-top: 0px; margin-bottom: 1.5em; padding: 0.5rem; border: 0px; outline: 0px; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-stretch: inherit; line-height: 1.4em; vertical-align: baseline; color: rgb(61, 60, 60); box-sizing: border-box; background: rgb(239, 238, 238); overflow-x: auto;"><code class=" language-bash" style="text-rendering: optimizelegibility; font-family: Iosevka, monospace; font-size: 1em; margin: 0px; border: 0px; outline: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: 1.4em; vertical-align: baseline; border-radius: 0px; background-image: initial; color: rgb(49, 49, 49); box-sizing: border-box;">$ git checkout rest</code></pre>
<p>Go through the code and try to find the http server and the handler. The handler is connected to the cart structure. In this code, the role of the handler is to receive the request, unmarshal the data from its json envelope and put it in the appropriate request type. After that it is the usual business, it will only call the cart with the appropriate method call and parameter. When it gets back a response, it will write it back to the http writer to be sent to the client. Let's start our server and interact with it and see how it works.</p>
<pre class=" language-bash" style="text-rendering: optimizelegibility; font-family: Iosevka, monospace; font-size: 16px; margin-top: 0px; margin-bottom: 1.5em; padding: 0.5rem; border: 0px; outline: 0px; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-stretch: inherit; line-height: 1.4em; vertical-align: baseline; color: rgb(61, 60, 60); box-sizing: border-box; background: rgb(239, 238, 238); overflow-x: auto;"><code class=" language-bash" style="text-rendering: optimizelegibility; font-family: Iosevka, monospace; font-size: 1em; margin: 0px; border: 0px; outline: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: 1.4em; vertical-align: baseline; border-radius: 0px; background-image: initial; color: rgb(49, 49, 49); box-sizing: border-box;"><span color="#313131" face="Iosevka, monospace" style="color: #313131; font-family: Iosevka, monospace;"><span style="font-size: 1em; font-style: inherit; font-variant-ligatures: inherit; font-variant-caps: inherit; font-weight: inherit;">$ go run main.go<br /></span>2020/04/22 08:15:08 Starting data stream server on port 7778 ....
2020/04/22 08:15:08 CTL-C to exit/stop data-stream-delivery service<span style="font-size: 1em; font-style: inherit; font-variant-ligatures: inherit; font-variant-caps: inherit; font-weight: inherit;"><br /></span></span></code></pre>
<p>Our server started and ready to accept our calls. We can either use curl or use a REST application such as Postman or Advanced REST Client plugin for Chrome browser.</p>
<pre class=" language-bash" style="text-rendering: optimizelegibility; font-family: Iosevka, monospace; font-size: 16px; margin-top: 0px; margin-bottom: 1.5em; padding: 0.5rem; border: 0px; outline: 0px; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-stretch: inherit; line-height: 1.4em; vertical-align: baseline; color: rgb(61, 60, 60); box-sizing: border-box; background: rgb(239, 238, 238); overflow-x: auto;"><code class=" language-bash" style="text-rendering: optimizelegibility; font-family: Iosevka, monospace; font-size: 1em; margin: 0px; border: 0px; outline: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: 1.4em; vertical-align: baseline; border-radius: 0px; background-image: initial; color: rgb(49, 49, 49); box-sizing: border-box;">$ curl -XPOST http://localhost:7778/v1/item -H "Content-Type: application/json"  --data '{"item":{"id":"vg2","name":"pepper","quantity":1,"price":2}}'</code></pre>
<p>We can repeat this call a couple of times to fill our cart. We can easily add a new method to return all the items in the cart just to test. We can then use it to see the content of our cart. Can you add this method to the <em>CartInterface</em> and implement it then wire it with our router?&nbsp;</p>
<pre class=" language-bash" style="text-rendering: optimizelegibility; font-family: Iosevka, monospace; font-size: 16px; margin-top: 0px; margin-bottom: 1.5em; padding: 0.5rem; border: 0px; outline: 0px; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-stretch: inherit; line-height: 1.4em; vertical-align: baseline; color: rgb(61, 60, 60); box-sizing: border-box; background: rgb(239, 238, 238); overflow-x: auto;"><code class=" language-bash" style="text-rendering: optimizelegibility; font-family: Iosevka, monospace; font-size: 1em; margin: 0px; border: 0px; outline: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: 1.4em; vertical-align: baseline; border-radius: 0px; background-image: initial; color: rgb(49, 49, 49); box-sizing: border-box;"><span color="#313131" face="Iosevka, monospace" style="color: #313131; font-family: Iosevka, monospace;"><span style="font-size: 1em; font-style: inherit; font-variant-ligatures: inherit; font-variant-caps: inherit; font-weight: inherit;">$ curl -XGET http://localhost:7778/v1/cart/items</span></span><span color="#313131" face="Iosevka, monospace" style="color: #313131; font-family: Iosevka, monospace;"><span style="font-size: 1em; font-style: inherit; font-variant-ligatures: inherit; font-variant-caps: inherit; font-weight: inherit;"><br /></span></span></code></pre>
<p>The previous call should return a map of the items in your cart.</p>
<p>Following the same process you can wire up all the calls that we already have and add more.</p>
<pre class=" language-bash" style="text-rendering: optimizelegibility; font-family: Iosevka, monospace; font-size: 16px; margin-top: 0px; margin-bottom: 1.5em; padding: 0.5rem; border: 0px; outline: 0px; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-stretch: inherit; line-height: 1.4em; vertical-align: baseline; color: rgb(61, 60, 60); box-sizing: border-box; background: rgb(239, 238, 238); overflow-x: auto;"><code class=" language-bash" style="text-rendering: optimizelegibility; font-family: Iosevka, monospace; font-size: 1em; margin: 0px; border: 0px; outline: 0px; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: 1.4em; vertical-align: baseline; border-radius: 0px; background-image: initial; color: rgb(49, 49, 49); box-sizing: border-box;"><span color="#313131" face="Iosevka, monospace" style="color: #313131; font-family: Iosevka, monospace;"><span style="font-size: 1em; font-style: inherit; font-variant-ligatures: inherit; font-variant-caps: inherit; font-weight: inherit;">$ </span></span><span color="#313131" face="Iosevka, monospace" style="color: #313131; font-family: Iosevka, monospace;">curl -XDELETE http://localhost:7778/v1/item -H "Content-Type: application/json"  --data '{"itemid":"vg1","quantity":5}'</span></code></pre>
<p>This concludes this unit and a version of the code is in the <em>restfull</em> branch, check it out and compare it to what you have done so far. In the next unit we will see different ways of generating some of the code that we wrote ourselves.</p>
<p></p>